import{S as D,i as U,s as q,d as y,v as M,n as B,p as S,q as R,l as h,r as k,aq as _e,w as C,g as j,T as he,a8 as be,Y as De,U as Ue,aa as we,ab as ke,ac as Be,k as g,t as v,a0 as Se,a1 as Ce,ae as X,ar as qe,a2 as W,A as V,c as I,B as A,f as F,X as E,C as G,h as ie,j as ue,D as N,af as Me,e as K,as as Le,Z as Ee,_ as je,$ as Re,x as He,y as Qe,z as Te,a3 as pe,a4 as We,at as Ke,a9 as ze}from"../../../chunks/singletons-f35c50ab.js";import{a as J,r as ge,f as x}from"../../../chunks/storage-f164a8dd.js";import{m as L,g as Y}from"../../../chunks/firestore-90890b0b.js";import{R as Oe,P as Ve}from"../../../chunks/RouteViewer-cd785452.js";import{b as ve}from"../../../chunks/environment-60829b93.js";import{g as Z}from"../../../chunks/navigation-9fbd55b3.js";import{B as Ie}from"../../../chunks/BackButton-3ecd4acf.js";const Xe="src/lib/UI/Widgets/Burger.svelte";function ee(o){let e;const s={c:function(){e=B("span"),this.h()},l:function(l){e=S(l,"SPAN",{class:!0}),R(e).forEach(h),this.h()},h:function(){k(e,"class","burger burger-swipe s-KmWyjMbde8pn"),_e(e,"open",o[0]),C(e,Xe,3,0,53)},m:function(l,r){j(l,e,r)},p:function(l,[r]){r&1&&_e(e,"open",l[0])},i:he,o:he,d:function(l){l&&h(e)}};return y("SvelteRegisterBlock",{block:s,id:ee.name,type:"component",source:"",ctx:o}),s}function Ye(o,e,s){let{$$slots:a={},$$scope:l}=e;M("Burger",a,[]);let{open:r=!0}=e;const t=["open"];return Object.keys(e).forEach(i=>{!~t.indexOf(i)&&i.slice(0,2)!=="$$"&&i!=="slot"&&console.warn(`<Burger> was created with unknown prop '${i}'`)}),o.$$set=i=>{"open"in i&&s(0,r=i.open)},o.$capture_state=()=>({open:r}),o.$inject_state=i=>{"open"in i&&s(0,r=i.open)},e&&"$$inject"in e&&o.$inject_state(e.$$inject),[r]}class Ae extends D{constructor(e){super(e),U(this,e,Ye,ee,q,{open:0}),y("SvelteRegisterComponent",{component:this,tagName:"Burger",options:e,id:ee.name})}get open(){throw new Error("<Burger>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set open(e){throw new Error("<Burger>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Ze="src/lib/UI/Widgets/GlassyButton.svelte";function te(o){let e,s,a,l;const r=o[2].default,t=be(r,o,o[1],null),i={c:function(){e=B("button"),t&&t.c(),this.h()},l:function(n){e=S(n,"BUTTON",{class:!0});var c=R(e);t&&t.l(c),c.forEach(h),this.h()},h:function(){k(e,"class","s-QtRUWq_O1Bnv"),C(e,Ze,3,0,50)},m:function(n,c){j(n,e,c),t&&t.m(e,null),s=!0,a||(l=De(e,"click",function(){Ue(o[0])&&o[0].apply(this,arguments)},!1,!1,!1),a=!0)},p:function(n,[c]){o=n,t&&t.p&&(!s||c&2)&&we(t,r,o,o[1],s?Be(r,o[1],c,null):ke(o[1]),null)},i:function(n){s||(g(t,n),s=!0)},o:function(n){v(t,n),s=!1},d:function(n){n&&h(e),t&&t.d(n),a=!1,l()}};return y("SvelteRegisterBlock",{block:i,id:te.name,type:"component",source:"",ctx:o}),i}function Je(o,e,s){let{$$slots:a={},$$scope:l}=e;M("GlassyButton",a,["default"]);let{callback:r}=e;o.$$.on_mount.push(function(){r===void 0&&!("callback"in e||o.$$.bound[o.$$.props.callback])&&console.warn("<GlassyButton> was created without expected prop 'callback'")});const t=["callback"];return Object.keys(e).forEach(i=>{!~t.indexOf(i)&&i.slice(0,2)!=="$$"&&i!=="slot"&&console.warn(`<GlassyButton> was created with unknown prop '${i}'`)}),o.$$set=i=>{"callback"in i&&s(0,r=i.callback),"$$scope"in i&&s(1,l=i.$$scope)},o.$capture_state=()=>({callback:r}),o.$inject_state=i=>{"callback"in i&&s(0,r=i.callback)},e&&"$$inject"in e&&o.$inject_state(e.$$inject),[r,l,a]}class fe extends D{constructor(e){super(e),U(this,e,Je,te,q,{callback:0}),y("SvelteRegisterComponent",{component:this,tagName:"GlassyButton",options:e,id:te.name})}get callback(){throw new Error("<GlassyButton>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set callback(e){throw new Error("<GlassyButton>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const{console:xe}=qe,ne="src/lib/UI/Widgets/FABMenu.svelte";function ye(o,e,s){const a=o.slice();return a[7]=e[s],a[9]=s,a}function Fe(o){let e,s;e=new Ae({props:{open:!o[0]},$$inline:!0});const a={c:function(){V(e.$$.fragment)},l:function(r){A(e.$$.fragment,r)},m:function(r,t){G(e,r,t),s=!0},p:function(r,t){const i={};t&1&&(i.open=!r[0]),e.$set(i)},i:function(r){s||(g(e.$$.fragment,r),s=!0)},o:function(r){v(e.$$.fragment,r),s=!1},d:function(r){N(e,r)}};return y("SvelteRegisterBlock",{block:a,id:Fe.name,type:"slot",source:"(43:2) <GlassyButton callback={toggle}>",ctx:o}),a}function oe(o){let e,s,a=o[1];W(a);let l=[];for(let i=0;i<a.length;i+=1)l[i]=se(ye(o,a,i));const r=i=>v(l[i],1,1,()=>{l[i]=null}),t={c:function(){for(let u=0;u<l.length;u+=1)l[u].c();e=K()},l:function(u){for(let n=0;n<l.length;n+=1)l[n].l(u);e=K()},m:function(u,n){for(let c=0;c<l.length;c+=1)l[c].m(u,n);j(u,e,n),s=!0},p:function(u,n){if(n&6){a=u[1],W(a);let c;for(c=0;c<a.length;c+=1){const m=ye(u,a,c);l[c]?(l[c].p(m,n),g(l[c],1)):(l[c]=se(m),l[c].c(),g(l[c],1),l[c].m(e.parentNode,e))}for(ie(),c=a.length;c<l.length;c+=1)r(c);ue()}},i:function(u){if(!s){for(let n=0;n<a.length;n+=1)g(l[n]);s=!0}},o:function(u){l=l.filter(Boolean);for(let n=0;n<l.length;n+=1)v(l[n]);s=!1},d:function(u){Le(l,u),u&&h(e)}};return y("SvelteRegisterBlock",{block:t,id:oe.name,type:"if",source:"(48:1) {#if !isClosed}",ctx:o}),t}function Ge(o){let e=o[7].text+"",s;const a={c:function(){s=He(e)},l:function(r){s=Qe(r,e)},m:function(r,t){j(r,s,t)},p:function(r,t){t&2&&e!==(e=r[7].text+"")&&Te(s,e)},d:function(r){r&&h(s)}};return y("SvelteRegisterBlock",{block:a,id:Ge.name,type:"slot",source:"(51:4) <GlassyButton callback={() => perform(button.action)}>",ctx:o}),a}function se(o){let e,s,a,l,r,t;function i(){return o[4](o[7])}s=new fe({props:{callback:i,$$slots:{default:[Ge]},$$scope:{ctx:o}},$$inline:!0});const u={c:function(){e=B("div"),V(s.$$.fragment),a=I(),this.h()},l:function(c){e=S(c,"DIV",{});var m=R(e);A(s.$$.fragment,m),a=F(m),m.forEach(h),this.h()},h:function(){C(e,ne,49,3,1238)},m:function(c,m){j(c,e,m),G(s,e,null),E(e,a),t=!0},p:function(c,m){o=c;const p={};m&2&&(p.callback=i),m&1026&&(p.$$scope={dirty:m,ctx:o}),s.$set(p)},i:function(c){t||(g(s.$$.fragment,c),Ee(()=>{r&&r.end(1),l=je(e,J,{y:-100,delay:40*o[9]}),l.start()}),t=!0)},o:function(c){v(s.$$.fragment,c),l&&l.invalidate(),r=Re(e,J,{y:-100,x:100,delay:20*o[9]}),t=!1},d:function(c){c&&h(e),N(s),c&&r&&r.end()}};return y("SvelteRegisterBlock",{block:u,id:se.name,type:"each",source:"(49:2) {#each buttons as button, index}",ctx:o}),u}function ae(o){let e,s,a,l,r;a=new fe({props:{callback:o[3],$$slots:{default:[Fe]},$$scope:{ctx:o}},$$inline:!0});let t=!o[0]&&oe(o);const i={c:function(){e=B("div"),s=B("div"),V(a.$$.fragment),l=I(),t&&t.c(),this.h()},l:function(n){e=S(n,"DIV",{class:!0});var c=R(e);s=S(c,"DIV",{class:!0});var m=R(s);A(a.$$.fragment,m),m.forEach(h),l=F(c),t&&t.l(c),c.forEach(h),this.h()},h:function(){k(s,"class","burger s-ywyU7df9A4C3"),C(s,ne,41,1,1069),k(e,"class","nav s-ywyU7df9A4C3"),C(e,ne,40,0,1050)},m:function(n,c){j(n,e,c),E(e,s),G(a,s,null),E(e,l),t&&t.m(e,null),r=!0},p:function(n,[c]){const m={};c&1025&&(m.$$scope={dirty:c,ctx:n}),a.$set(m),n[0]?t&&(ie(),v(t,1,1,()=>{t=null}),ue()):t?(t.p(n,c),c&1&&g(t,1)):(t=oe(n),t.c(),g(t,1),t.m(e,null))},i:function(n){r||(g(a.$$.fragment,n),g(t),r=!0)},o:function(n){v(a.$$.fragment,n),v(t),r=!1},d:function(n){n&&h(e),N(a),t&&t.d()}};return y("SvelteRegisterBlock",{block:i,id:ae.name,type:"component",source:"",ctx:o}),i}function et(o,e,s){let a;Se(L,"me"),Ce(o,L,f=>s(5,a=f));let{$$slots:l={},$$scope:r}=e;M("FABMenu",l,[]);const t=[{text:"Exit game",action:()=>{ge(),Me(L,a={...a,gameId:""},a),console.log(ve,X,a),Z(X)}},{text:"See more works by me",action:()=>{Z("https://elijahstorm.github.io/")}}];let i=!0,u=t;const n=f=>{f(),s(0,i=!0)},c=()=>s(0,i=!i),m=[];Object.keys(e).forEach(f=>{!~m.indexOf(f)&&f.slice(0,2)!=="$$"&&f!=="slot"&&xe.warn(`<FABMenu> was created with unknown prop '${f}'`)});const p=f=>n(f.action);return o.$capture_state=()=>({browser:ve,goto:Z,Burger:Ae,GlassyButton:fe,fly:J,base:X,me:L,removeLocalStorage:ge,baseButtons:t,isClosed:i,buttons:u,perform:n,toggle:c,$me:a}),o.$inject_state=f=>{"isClosed"in f&&s(0,i=f.isClosed),"buttons"in f&&s(1,u=f.buttons)},e&&"$$inject"in e&&o.$inject_state(e.$$inject),o.$$.update=()=>{o.$$.dirty&1&&s(1,u=t.slice())},[i,u,n,c,p]}class Ne extends D{constructor(e){super(e),U(this,e,et,ae,q,{}),y("SvelteRegisterComponent",{component:this,tagName:"FABMenu",options:e,id:ae.name})}}const T="src/lib/Race/ScoreHeader.svelte";function H(o,e,s){const a=o.slice();return a[1]=e[s],a}function le(o,e){let s,a,l,r,t;a=new Ve({props:{player:e[1]},$$inline:!0});const i={key:o,first:null,c:function(){s=K(),V(a.$$.fragment),l=I(),r=B("div"),this.h()},l:function(n){s=K(),A(a.$$.fragment,n),l=F(n),r=S(n,"DIV",{class:!0}),R(r).forEach(h),this.h()},h:function(){k(r,"class","overlay s-m2VqPQ5COrf-"),C(r,T,17,3,545),this.first=s},m:function(n,c){j(n,s,c),G(a,n,c),j(n,l,c),j(n,r,c),t=!0},p:function(n,c){e=n;const m={};c&1&&(m.player=e[1]),a.$set(m)},i:function(n){t||(g(a.$$.fragment,n),t=!0)},o:function(n){v(a.$$.fragment,n),t=!1},d:function(n){n&&h(s),N(a,n),n&&h(l),n&&h(r)}};return y("SvelteRegisterBlock",{block:i,id:le.name,type:"each",source:"(15:2) {#each $game.players.sort((a, b) => a.name.localeCompare(b.name)) as player (player.uid)}",ctx:e}),i}function re(o){let e,s,a,l,r,t=[],i=new Map,u,n,c,m,p,f,$;a=new Ie({$$inline:!0});let b=o[0].players.sort($e);W(b);const P=w=>w[1].uid;pe(o,b,H,P);for(let w=0;w<b.length;w+=1){let _=H(o,b,w),d=P(_);i.set(d,t[w]=le(d,_))}n=new Oe({props:{route:o[0].route},$$inline:!0}),m=new Ne({$$inline:!0});const me={c:function(){e=B("section"),s=B("div"),V(a.$$.fragment),l=I(),r=B("div");for(let _=0;_<t.length;_+=1)t[_].c();u=I(),V(n.$$.fragment),c=I(),V(m.$$.fragment),this.h()},l:function(_){e=S(_,"SECTION",{class:!0});var d=R(e);s=S(d,"DIV",{class:!0});var O=R(s);A(a.$$.fragment,O),O.forEach(h),l=F(d),r=S(d,"DIV",{class:!0});var de=R(r);for(let z=0;z<t.length;z+=1)t[z].l(de);de.forEach(h),u=F(d),A(n.$$.fragment,d),c=F(d),A(m.$$.fragment,d),d.forEach(h),this.h()},h:function(){k(s,"class","back s-m2VqPQ5COrf-"),C(s,T,9,1,347),k(r,"class","players s-m2VqPQ5COrf-"),C(r,T,13,1,393),k(e,"class","s-m2VqPQ5COrf-"),C(e,T,8,0,319)},m:function(_,d){j(_,e,d),E(e,s),G(a,s,null),E(e,l),E(e,r);for(let O=0;O<t.length;O+=1)t[O].m(r,null);E(e,u),G(n,e,null),E(e,c),G(m,e,null),$=!0},p:function(_,[d]){d&1&&(b=_[0].players.sort($e),W(b),ie(),pe(_,b,H,P),t=We(t,d,P,1,_,b,i,r,Ke,le,null,H),ue());const O={};d&1&&(O.route=_[0].route),n.$set(O)},i:function(_){if(!$){g(a.$$.fragment,_);for(let d=0;d<b.length;d+=1)g(t[d]);g(n.$$.fragment,_),g(m.$$.fragment,_),Ee(()=>{f&&f.end(1),p=je(e,x,{}),p.start()}),$=!0}},o:function(_){v(a.$$.fragment,_);for(let d=0;d<t.length;d+=1)v(t[d]);v(n.$$.fragment,_),v(m.$$.fragment,_),p&&p.invalidate(),f=Re(e,x,{}),$=!1},d:function(_){_&&h(e),N(a);for(let d=0;d<t.length;d+=1)t[d].d();N(n),N(m),_&&f&&f.end()}};return y("SvelteRegisterBlock",{block:me,id:re.name,type:"component",source:"",ctx:o}),me}const $e=(o,e)=>o.name.localeCompare(e.name);function tt(o,e,s){let a;Se(Y,"game"),Ce(o,Y,i=>s(0,a=i));let{$$slots:l={},$$scope:r}=e;M("ScoreHeader",l,[]);const t=[];return Object.keys(e).forEach(i=>{!~t.indexOf(i)&&i.slice(0,2)!=="$$"&&i!=="slot"&&console.warn(`<ScoreHeader> was created with unknown prop '${i}'`)}),o.$capture_state=()=>({fade:x,game:Y,PlayerScoreViewer:Ve,FabMenu:Ne,RouteViewer:Oe,BackButton:Ie,$game:a}),[a]}class Pe extends D{constructor(e){super(e),U(this,e,tt,re,q,{}),y("SvelteRegisterComponent",{component:this,tagName:"ScoreHeader",options:e,id:re.name})}}const Q="src/routes/play/+layout.svelte";function ce(o){let e,s,a,l,r,t,i,u;r=new Pe({$$inline:!0});const n=o[1].default,c=be(n,o,o[0],null),m={c:function(){e=B("link"),s=B("link"),a=I(),l=B("div"),V(r.$$.fragment),t=I(),i=B("div"),c&&c.c(),this.h()},l:function(f){const $=ze("svelte-18hphjo",document.head);e=S($,"LINK",{rel:!0,href:!0}),s=S($,"LINK",{rel:!0,href:!0}),$.forEach(h),a=F(f),l=S(f,"DIV",{class:!0});var b=R(l);A(r.$$.fragment,b),t=F(b),i=S(b,"DIV",{class:!0});var P=R(i);c&&c.l(P),P.forEach(h),b.forEach(h),this.h()},h:function(){k(e,"rel","stylesheet"),k(e,"href","//en.wikipedia.org/w/load.php?lang=en&modules=ext.cite.styles%7Cext.uls.interlanguage%7Cext.visualEditor.desktopArticleTarget.noscript%7Cext.wikimediaBadges%7Cjquery.makeCollapsible.styles%7Cskins.vector.styles.legacy%7Cwikibase.client.init&only=styles&skin=vector"),C(e,Q,4,1,100),k(s,"rel","stylesheet"),k(s,"href","//en.wikipedia.org/w/load.php?lang=en&modules=site.styles&only=styles&skin=vector"),C(s,Q,8,1,416),k(i,"class","content s-3xrVmUt1FyfF"),C(i,Q,17,1,607),k(l,"class","no-scroll s-3xrVmUt1FyfF"),C(l,Q,14,0,564)},m:function(f,$){E(document.head,e),E(document.head,s),j(f,a,$),j(f,l,$),G(r,l,null),E(l,t),E(l,i),c&&c.m(i,null),u=!0},p:function(f,[$]){c&&c.p&&(!u||$&1)&&we(c,n,f,f[0],u?Be(n,f[0],$,null):ke(f[0]),null)},i:function(f){u||(g(r.$$.fragment,f),g(c,f),u=!0)},o:function(f){v(r.$$.fragment,f),v(c,f),u=!1},d:function(f){h(e),h(s),f&&h(a),f&&h(l),N(r),c&&c.d(f)}};return y("SvelteRegisterBlock",{block:m,id:ce.name,type:"component",source:"",ctx:o}),m}function nt(o,e,s){let{$$slots:a={},$$scope:l}=e;M("Layout",a,["default"]);const r=[];return Object.keys(e).forEach(t=>{!~r.indexOf(t)&&t.slice(0,2)!=="$$"&&t!=="slot"&&console.warn(`<Layout> was created with unknown prop '${t}'`)}),o.$$set=t=>{"$$scope"in t&&s(0,l=t.$$scope)},o.$capture_state=()=>({ScoreHeader:Pe}),[l,a]}class ut extends D{constructor(e){super(e),U(this,e,nt,ce,q,{}),y("SvelteRegisterComponent",{component:this,tagName:"Layout",options:e,id:ce.name})}}export{ut as default};
