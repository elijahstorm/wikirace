import{s as M,e as w,b as B,d as R,a9 as he,h as S,n as pe,G as ye,Q as Me,I as ke,J as we,K as Be,v as Se,c as Ee,a as O,g as G,a7 as Pe,p as W,u as Fe,R as je,t as He,f as Te,a8 as Ue}from"../chunks/scheduler.DuvC89Cg.js";import{S as P,i as F,d as $,v as H,f as p,l as k,g as C,r as ze,t as g,b,o as q,c as N,a as D,h as j,m as V,n as ce,j as ue,e as A,A as Ce,B as Re,s as Ke,p as _e,u as We,D as qe}from"../chunks/index.Cr2bqvGs.js";import{a as Z,r as ge,f as x}from"../chunks/storage.DhQS54Ki.js";import{m as T,g as Q}from"../chunks/firestore.FzaPx3Js.js";import{g as Je,R as Ie,P as Oe}from"../chunks/RouteViewer.DmRZg9fK.js";import{b as ve}from"../chunks/index.Bt-Xh7oU.js";import{g as X,b as Y}from"../chunks/entry.Crc3OFkF.js";import{B as Ge}from"../chunks/BackButton.C6a5L8vp.js";const Qe="src/lib/UI/Widgets/Burger.svelte";function ee(n){let e;const s={c:function(){e=w("span"),this.h()},l:function(a){e=B(a,"SPAN",{class:!0}),R(e).forEach(p),this.h()},h:function(){k(e,"class","burger burger-swipe svelte-v24c4r"),he(e,"open",n[0]),S(e,Qe,4,0,53)},m:function(a,l){C(a,e,l)},p:function(a,[l]){l&1&&he(e,"open",a[0])},i:pe,o:pe,d:function(a){a&&p(e)}};return $("SvelteRegisterBlock",{block:s,id:ee.name,type:"component",source:"",ctx:n}),s}function Xe(n,e,s){let{$$slots:r={},$$scope:a}=e;H("Burger",r,[]);let{open:l=!0}=e;const t=["open"];return Object.keys(e).forEach(c=>{!~t.indexOf(c)&&c.slice(0,2)!=="$$"&&c!=="slot"&&console.warn(`<Burger> was created with unknown prop '${c}'`)}),n.$$set=c=>{"open"in c&&s(0,l=c.open)},n.$capture_state=()=>({open:l}),n.$inject_state=c=>{"open"in c&&s(0,l=c.open)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),[l]}class Ne extends P{constructor(e){super(e),F(this,e,Xe,ee,M,{open:0}),$("SvelteRegisterComponent",{component:this,tagName:"Burger",options:e,id:ee.name})}get open(){throw new Error("<Burger>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set open(e){throw new Error("<Burger>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Ye="src/lib/UI/Widgets/GlassyButton.svelte";function te(n){let e,s,r,a;const l=n[2].default,t=ye(l,n,n[1],null),c={c:function(){e=w("button"),t&&t.c(),this.h()},l:function(o){e=B(o,"BUTTON",{class:!0});var i=R(e);t&&t.l(i),i.forEach(p),this.h()},h:function(){k(e,"class","svelte-azsnjr"),S(e,Ye,4,0,50)},m:function(o,i){C(o,e,i),t&&t.m(e,null),s=!0,r||(a=ze(e,"click",function(){Me(n[0])&&n[0].apply(this,arguments)},!1,!1,!1,!1),r=!0)},p:function(o,[i]){n=o,t&&t.p&&(!s||i&2)&&ke(t,l,n,n[1],s?Be(l,n[1],i,null):we(n[1]),null)},i:function(o){s||(g(t,o),s=!0)},o:function(o){b(t,o),s=!1},d:function(o){o&&p(e),t&&t.d(o),r=!1,a()}};return $("SvelteRegisterBlock",{block:c,id:te.name,type:"component",source:"",ctx:n}),c}function Ze(n,e,s){let{$$slots:r={},$$scope:a}=e;H("GlassyButton",r,["default"]);let{callback:l}=e;n.$$.on_mount.push(function(){l===void 0&&!("callback"in e||n.$$.bound[n.$$.props.callback])&&console.warn("<GlassyButton> was created without expected prop 'callback'")});const t=["callback"];return Object.keys(e).forEach(c=>{!~t.indexOf(c)&&c.slice(0,2)!=="$$"&&c!=="slot"&&console.warn(`<GlassyButton> was created with unknown prop '${c}'`)}),n.$$set=c=>{"callback"in c&&s(0,l=c.callback),"$$scope"in c&&s(1,a=c.$$scope)},n.$capture_state=()=>({callback:l}),n.$inject_state=c=>{"callback"in c&&s(0,l=c.callback)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),[l,a,r]}class fe extends P{constructor(e){super(e),F(this,e,Ze,te,M,{callback:0}),$("SvelteRegisterComponent",{component:this,tagName:"GlassyButton",options:e,id:te.name})}get callback(){throw new Error("<GlassyButton>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set callback(e){throw new Error("<GlassyButton>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const{console:xe}=Je,ne="src/lib/UI/Widgets/FABMenu.svelte";function be(n,e,s){const r=n.slice();return r[7]=e[s],r[9]=s,r}function De(n){let e,s;e=new Ne({props:{open:!n[0]},$$inline:!0});const r={c:function(){N(e.$$.fragment)},l:function(l){D(e.$$.fragment,l)},m:function(l,t){V(e,l,t),s=!0},p:function(l,t){const c={};t&1&&(c.open=!l[0]),e.$set(c)},i:function(l){s||(g(e.$$.fragment,l),s=!0)},o:function(l){b(e.$$.fragment,l),s=!1},d:function(l){A(e,l)}};return $("SvelteRegisterBlock",{block:r,id:De.name,type:"slot",source:"(43:2) <GlassyButton callback={toggle}>",ctx:n}),r}function oe(n){let e,s,r=q(n[1]),a=[];for(let c=0;c<r.length;c+=1)a[c]=se(be(n,r,c));const l=c=>b(a[c],1,1,()=>{a[c]=null}),t={c:function(){for(let u=0;u<a.length;u+=1)a[u].c();e=W()},l:function(u){for(let o=0;o<a.length;o+=1)a[o].l(u);e=W()},m:function(u,o){for(let i=0;i<a.length;i+=1)a[i]&&a[i].m(u,o);C(u,e,o),s=!0},p:function(u,o){if(o&6){r=q(u[1]);let i;for(i=0;i<r.length;i+=1){const m=be(u,r,i);a[i]?(a[i].p(m,o),g(a[i],1)):(a[i]=se(m),a[i].c(),g(a[i],1),a[i].m(e.parentNode,e))}for(ce(),i=r.length;i<a.length;i+=1)l(i);ue()}},i:function(u){if(!s){for(let o=0;o<r.length;o+=1)g(a[o]);s=!0}},o:function(u){a=a.filter(Boolean);for(let o=0;o<a.length;o+=1)b(a[o]);s=!1},d:function(u){u&&p(e),Fe(a,u)}};return $("SvelteRegisterBlock",{block:t,id:oe.name,type:"if",source:"(48:1) {#if !isClosed}",ctx:n}),t}function Ve(n){let e=n[7].text+"",s;const r={c:function(){s=He(e)},l:function(l){s=Te(l,e)},m:function(l,t){C(l,s,t)},p:function(l,t){t&2&&e!==(e=l[7].text+"")&&Ke(s,e)},d:function(l){l&&p(s)}};return $("SvelteRegisterBlock",{block:r,id:Ve.name,type:"slot",source:"(51:4) <GlassyButton callback={() => perform(button.action)}>",ctx:n}),r}function se(n){let e,s,r,a,l,t;function c(){return n[4](n[7])}s=new fe({props:{callback:c,$$slots:{default:[Ve]},$$scope:{ctx:n}},$$inline:!0});const u={c:function(){e=w("div"),N(s.$$.fragment),r=O(),this.h()},l:function(i){e=B(i,"DIV",{});var m=R(e);D(s.$$.fragment,m),r=G(m),m.forEach(p),this.h()},h:function(){S(e,ne,53,3,1238)},m:function(i,m){C(i,e,m),V(s,e,null),j(e,r),t=!0},p:function(i,m){n=i;const _={};m&2&&(_.callback=c),m&1026&&(_.$$scope={dirty:m,ctx:n}),s.$set(_)},i:function(i){t||(g(s.$$.fragment,i),i&&je(()=>{t&&(l&&l.end(1),a=Ce(e,Z,{y:-100,delay:40*n[9]}),a.start())}),t=!0)},o:function(i){b(s.$$.fragment,i),a&&a.invalidate(),i&&(l=Re(e,Z,{y:-100,x:100,delay:20*n[9]})),t=!1},d:function(i){i&&p(e),A(s),i&&l&&l.end()}};return $("SvelteRegisterBlock",{block:u,id:se.name,type:"each",source:"(49:2) {#each buttons as button, index}",ctx:n}),u}function ae(n){let e,s,r,a,l;r=new fe({props:{callback:n[3],$$slots:{default:[De]},$$scope:{ctx:n}},$$inline:!0});let t=!n[0]&&oe(n);const c={c:function(){e=w("div"),s=w("div"),N(r.$$.fragment),a=O(),t&&t.c(),this.h()},l:function(o){e=B(o,"DIV",{class:!0});var i=R(e);s=B(i,"DIV",{class:!0});var m=R(s);D(r.$$.fragment,m),m.forEach(p),a=G(i),t&&t.l(i),i.forEach(p),this.h()},h:function(){k(s,"class","burger svelte-hxil0m"),S(s,ne,45,1,1069),k(e,"class","nav svelte-hxil0m"),S(e,ne,44,0,1050)},m:function(o,i){C(o,e,i),j(e,s),V(r,s,null),j(e,a),t&&t.m(e,null),l=!0},p:function(o,[i]){const m={};i&1025&&(m.$$scope={dirty:i,ctx:o}),r.$set(m),o[0]?t&&(ce(),b(t,1,1,()=>{t=null}),ue()):t?(t.p(o,i),i&1&&g(t,1)):(t=oe(o),t.c(),g(t,1),t.m(e,null))},i:function(o){l||(g(r.$$.fragment,o),g(t),l=!0)},o:function(o){b(r.$$.fragment,o),b(t),l=!1},d:function(o){o&&p(e),A(r),t&&t.d()}};return $("SvelteRegisterBlock",{block:c,id:ae.name,type:"component",source:"",ctx:n}),c}function et(n,e,s){let r;Se(T,"me"),Ee(n,T,f=>s(5,r=f));let{$$slots:a={},$$scope:l}=e;H("FABMenu",a,[]);const t=[{text:"Exit game",action:()=>{ge(),Pe(T,r={...r,gameId:""},r),console.log(ve,Y,r),X(Y)}},{text:"See more works by me",action:()=>{X("https://elijahstorm.github.io/")}}];let c=!0,u=t;const o=f=>{f(),s(0,c=!0)},i=()=>s(0,c=!c),m=[];Object.keys(e).forEach(f=>{!~m.indexOf(f)&&f.slice(0,2)!=="$$"&&f!=="slot"&&xe.warn(`<FABMenu> was created with unknown prop '${f}'`)});const _=f=>o(f.action);return n.$capture_state=()=>({browser:ve,goto:X,Burger:Ne,GlassyButton:fe,fly:Z,base:Y,me:T,removeLocalStorage:ge,baseButtons:t,isClosed:c,buttons:u,perform:o,toggle:i,$me:r}),n.$inject_state=f=>{"isClosed"in f&&s(0,c=f.isClosed),"buttons"in f&&s(1,u=f.buttons)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),n.$$.update=()=>{n.$$.dirty&1&&s(1,u=t.slice())},[c,u,o,i,_]}class Ae extends P{constructor(e){super(e),F(this,e,et,ae,M,{}),$("SvelteRegisterComponent",{component:this,tagName:"FABMenu",options:e,id:ae.name})}}const K="src/lib/Race/ScoreHeader.svelte";function U(n,e,s){const r=n.slice();return r[1]=e[s],r}function re(n,e){let s,r,a,l,t;r=new Oe({props:{player:e[1]},$$inline:!0});const c={key:n,first:null,c:function(){s=W(),N(r.$$.fragment),a=O(),l=w("div"),this.h()},l:function(o){s=W(),D(r.$$.fragment,o),a=G(o),l=B(o,"DIV",{class:!0}),R(l).forEach(p),this.h()},h:function(){k(l,"class","overlay svelte-setyti"),S(l,K,18,3,545),this.first=s},m:function(o,i){C(o,s,i),V(r,o,i),C(o,a,i),C(o,l,i),t=!0},p:function(o,i){e=o;const m={};i&1&&(m.player=e[1]),r.$set(m)},i:function(o){t||(g(r.$$.fragment,o),t=!0)},o:function(o){b(r.$$.fragment,o),t=!1},d:function(o){o&&(p(s),p(a),p(l)),A(r,o)}};return $("SvelteRegisterBlock",{block:c,id:re.name,type:"each",source:"(15:2) {#each $game.players.sort((a, b) => a.name.localeCompare(b.name)) as player (player.uid)}",ctx:e}),c}function ie(n){let e,s,r,a,l,t=[],c=new Map,u,o,i,m,_,f,v;r=new Ge({$$inline:!0});let E=q(n[0].players.sort($e));const L=y=>y[1].uid;_e(n,E,U,L);for(let y=0;y<E.length;y+=1){let h=U(n,E,y),d=L(h);c.set(d,t[y]=re(d,h))}o=new Ie({props:{route:n[0].route},$$inline:!0}),m=new Ae({$$inline:!0});const me={c:function(){e=w("section"),s=w("div"),N(r.$$.fragment),a=O(),l=w("div");for(let h=0;h<t.length;h+=1)t[h].c();u=O(),N(o.$$.fragment),i=O(),N(m.$$.fragment),this.h()},l:function(h){e=B(h,"SECTION",{class:!0});var d=R(e);s=B(d,"DIV",{class:!0});var I=R(s);D(r.$$.fragment,I),I.forEach(p),a=G(d),l=B(d,"DIV",{class:!0});var de=R(l);for(let J=0;J<t.length;J+=1)t[J].l(de);de.forEach(p),u=G(d),D(o.$$.fragment,d),i=G(d),D(m.$$.fragment,d),d.forEach(p),this.h()},h:function(){k(s,"class","back svelte-setyti"),S(s,K,10,1,347),k(l,"class","players svelte-setyti"),S(l,K,14,1,393),k(e,"class","svelte-setyti"),S(e,K,9,0,319)},m:function(h,d){C(h,e,d),j(e,s),V(r,s,null),j(e,a),j(e,l);for(let I=0;I<t.length;I+=1)t[I]&&t[I].m(l,null);j(e,u),V(o,e,null),j(e,i),V(m,e,null),v=!0},p:function(h,[d]){d&1&&(E=q(h[0].players.sort($e)),ce(),_e(h,E,U,L),t=We(t,d,L,1,h,E,c,l,qe,re,null,U),ue());const I={};d&1&&(I.route=h[0].route),o.$set(I)},i:function(h){if(!v){g(r.$$.fragment,h);for(let d=0;d<E.length;d+=1)g(t[d]);g(o.$$.fragment,h),g(m.$$.fragment,h),h&&je(()=>{v&&(f&&f.end(1),_=Ce(e,x,{}),_.start())}),v=!0}},o:function(h){b(r.$$.fragment,h);for(let d=0;d<t.length;d+=1)b(t[d]);b(o.$$.fragment,h),b(m.$$.fragment,h),_&&_.invalidate(),h&&(f=Re(e,x,{})),v=!1},d:function(h){h&&p(e),A(r);for(let d=0;d<t.length;d+=1)t[d].d();A(o),A(m),h&&f&&f.end()}};return $("SvelteRegisterBlock",{block:me,id:ie.name,type:"component",source:"",ctx:n}),me}const $e=(n,e)=>n.name.localeCompare(e.name);function tt(n,e,s){let r;Se(Q,"game"),Ee(n,Q,c=>s(0,r=c));let{$$slots:a={},$$scope:l}=e;H("ScoreHeader",a,[]);const t=[];return Object.keys(e).forEach(c=>{!~t.indexOf(c)&&c.slice(0,2)!=="$$"&&c!=="slot"&&console.warn(`<ScoreHeader> was created with unknown prop '${c}'`)}),n.$capture_state=()=>({fade:x,game:Q,PlayerScoreViewer:Oe,FabMenu:Ae,RouteViewer:Ie,BackButton:Ge,$game:r}),[r]}class Le extends P{constructor(e){super(e),F(this,e,tt,ie,M,{}),$("SvelteRegisterComponent",{component:this,tagName:"ScoreHeader",options:e,id:ie.name})}}const z="src/routes/play/+layout.svelte";function le(n){let e,s,r,a,l,t,c,u;l=new Le({$$inline:!0});const o=n[1].default,i=ye(o,n,n[0],null),m={c:function(){e=w("link"),s=w("link"),r=O(),a=w("div"),N(l.$$.fragment),t=O(),c=w("div"),i&&i.c(),this.h()},l:function(f){const v=Ue("svelte-18hphjo",document.head);e=B(v,"LINK",{rel:!0,href:!0}),s=B(v,"LINK",{rel:!0,href:!0}),v.forEach(p),r=G(f),a=B(f,"DIV",{class:!0});var E=R(a);D(l.$$.fragment,E),t=G(E),c=B(E,"DIV",{class:!0});var L=R(c);i&&i.l(L),L.forEach(p),E.forEach(p),this.h()},h:function(){k(e,"rel","stylesheet"),k(e,"href","//en.wikipedia.org/w/load.php?lang=en&modules=ext.cite.styles%7Cext.uls.interlanguage%7Cext.visualEditor.desktopArticleTarget.noscript%7Cext.wikimediaBadges%7Cjquery.makeCollapsible.styles%7Cskins.vector.styles.legacy%7Cwikibase.client.init&only=styles&skin=vector"),S(e,z,5,1,100),k(s,"rel","stylesheet"),k(s,"href","//en.wikipedia.org/w/load.php?lang=en&modules=site.styles&only=styles&skin=vector"),S(s,z,9,1,416),k(c,"class","content svelte-179zyhs"),S(c,z,18,1,607),k(a,"class","no-scroll svelte-179zyhs"),S(a,z,15,0,564)},m:function(f,v){j(document.head,e),j(document.head,s),C(f,r,v),C(f,a,v),V(l,a,null),j(a,t),j(a,c),i&&i.m(c,null),u=!0},p:function(f,[v]){i&&i.p&&(!u||v&1)&&ke(i,o,f,f[0],u?Be(o,f[0],v,null):we(f[0]),null)},i:function(f){u||(g(l.$$.fragment,f),g(i,f),u=!0)},o:function(f){b(l.$$.fragment,f),b(i,f),u=!1},d:function(f){f&&(p(r),p(a)),p(e),p(s),A(l),i&&i.d(f)}};return $("SvelteRegisterBlock",{block:m,id:le.name,type:"component",source:"",ctx:n}),m}function nt(n,e,s){let{$$slots:r={},$$scope:a}=e;H("Layout",r,["default"]);const l=[];return Object.keys(e).forEach(t=>{!~l.indexOf(t)&&t.slice(0,2)!=="$$"&&t!=="slot"&&console.warn(`<Layout> was created with unknown prop '${t}'`)}),n.$$set=t=>{"$$scope"in t&&s(0,a=t.$$scope)},n.$capture_state=()=>({ScoreHeader:Le}),[a,r]}class ft extends P{constructor(e){super(e),F(this,e,nt,le,M,{}),$("SvelteRegisterComponent",{component:this,tagName:"Layout",options:e,id:le.name})}}export{ft as component};
