import{S as pt,i as ht,s as mt,d as z,v as _t,a as Qe,o as ge,b as gt,c as wt,e as B,f as yt,g as G,h as Z,t as C,j as x,k as q,l as F,m as J,n as bt,p as vt,q as kt,r as Re,u as W,w as Et,x as Rt,y as St,z as Pt,A as K,B as ie,C as M,D as H,E as at,I as Y,F as Ze,G as he,H as xe,J as Se,K as me,L as Q,M as et,N as _e,P as tt,O as Lt,Q as Ot}from"./chunks/singletons-f35c50ab.js";import{b as jt}from"./chunks/environment-60829b93.js";function It(n,e){return n==="/"||e==="ignore"?n:e==="never"?n.endsWith("/")?n.slice(0,-1):n:e==="always"&&!n.endsWith("/")?n+"/":n}function At(n){return n.split("%25").map(decodeURI).join("%25")}function Nt(n){for(const e in n)n[e]=decodeURIComponent(n[e]);return n}const Ut=["href","pathname","search","searchParams","toString","toJSON"];function Tt(n,e){const t=new URL(n);for(const s of Ut){let r=t[s];Object.defineProperty(t,s,{get(){return e(),r},enumerable:!0,configurable:!0})}return Dt(t),t}function Dt(n){Object.defineProperty(n,"hash",{get(){throw new Error("Cannot access event.url.hash. Consider using `$page.url.hash` inside a component instead")}})}const Bt="/__data.json";function Ct(n){return n.replace(/\/$/,"")+Bt}function qt(n){let e=5381;if(typeof n=="string"){let t=n.length;for(;t;)e=e*33^n.charCodeAt(--t)}else if(ArrayBuffer.isView(n)){const t=new Uint8Array(n.buffer,n.byteOffset,n.byteLength);let s=t.length;for(;s;)e=e*33^t[--s]}else throw new TypeError("value must be a string or TypedArray");return(e>>>0).toString(36)}let Be=0;const we=window.fetch;function Vt(){Be+=1}function Ft(){Be-=1}{let n=!1;(async()=>{n=new Error().stack.includes("check_stack_trace")})(),window.fetch=(t,s)=>{const r=t instanceof Request?t.url:t.toString(),f=new Error().stack;return(n?f.includes("src/runtime/client/client.js"):Be)&&console.warn(`Loading ${r} using \`window.fetch\`. For best results, use the \`fetch\` that is passed to your \`load\` function: https://kit.svelte.dev/docs/load#making-fetch-requests`),(t instanceof Request?t.method:(s==null?void 0:s.method)||"GET")!=="GET"&&ae.delete(Ce(t)),we(t,s)}}const ae=new Map;function $t(n,e){const t=Ce(n,e),s=document.querySelector(t);if(s!=null&&s.textContent){const{body:r,...f}=JSON.parse(s.textContent),a=s.getAttribute("data-ttl");return a&&ae.set(t,{body:r,init:f,ttl:1e3*Number(a)}),Promise.resolve(new Response(r,f))}return we(n,e)}function Gt(n,e,t){if(ae.size>0){const s=Ce(n,t),r=ae.get(s);if(r){if(performance.now()<r.ttl&&["default","force-cache","only-if-cached",void 0].includes(t==null?void 0:t.cache))return new Response(r.body,r.init);ae.delete(s)}}return we(e,t)}function Ce(n,e){let s=`script[data-sveltekit-fetched][data-url=${JSON.stringify(n instanceof Request?n.url:n)}]`;return e!=null&&e.body&&(typeof e.body=="string"||ArrayBuffer.isView(e.body))&&(s+=`[data-hash="${qt(e.body)}"]`),s}const Jt=/^(\[)?(\.\.\.)?(\w+)(?:=(\w+))?(\])?$/;function Kt(n){const e=[];return{pattern:n==="/"?/^\/$/:new RegExp(`^${Ht(n).map(s=>{const r=/^\[\.\.\.(\w+)(?:=(\w+))?\]$/.exec(s);if(r)return e.push({name:r[1],matcher:r[2],optional:!1,rest:!0,chained:!0}),"(?:/(.*))?";const f=/^\[\[(\w+)(?:=(\w+))?\]\]$/.exec(s);if(f)return e.push({name:f[1],matcher:f[2],optional:!0,rest:!1,chained:!0}),"(?:/([^/]+))?";if(!s)return;const a=s.split(/\[(.+?)\](?!\])/);return"/"+a.map((o,u)=>{if(u%2){if(o.startsWith("x+"))return Pe(String.fromCharCode(parseInt(o.slice(2),16)));if(o.startsWith("u+"))return Pe(String.fromCharCode(...o.slice(2).split("-").map(A=>parseInt(A,16))));const h=Jt.exec(o);if(!h)throw new Error(`Invalid param: ${o}. Params and matcher names can only have underscores and alphanumeric characters.`);const[,m,v,L,I]=h;return e.push({name:L,matcher:I,optional:!!m,rest:!!v,chained:v?u===1&&a[0]==="":!1}),v?"(.*?)":m?"([^/]*)?":"([^/]+?)"}return Pe(o)}).join("")}).join("")}/?$`),params:e}}function Mt(n){return!/^\([^)]+\)$/.test(n)}function Ht(n){return n.slice(1).split("/").filter(Mt)}function zt(n,e,t){const s={},r=n.slice(1);let f="";for(let a=0;a<e.length;a+=1){const c=e[a];let o=r[a];if(c.chained&&c.rest&&f&&(o=o?f+"/"+o:f),f="",o===void 0)c.rest&&(s[c.name]="");else{if(c.matcher&&!t[c.matcher](o)){if(c.optional&&c.chained){let u=r.indexOf(void 0,a);if(u===-1){const h=e[a+1];if(h!=null&&h.rest&&h.chained)f=o;else return}for(;u>=a;)r[u]=r[u-1],u-=1;continue}return}s[c.name]=o}}if(!f)return s}function Pe(n){return n.normalize().replace(/[[\]]/g,"\\$&").replace(/%/g,"%25").replace(/\//g,"%2[Ff]").replace(/\?/g,"%3[Ff]").replace(/#/g,"%23").replace(/[.*+?^${}()|\\]/g,"\\$&")}function Wt(n,e,t,s){const r=new Set(e);return Object.entries(t).map(([c,[o,u,h]])=>{const{pattern:m,params:v}=Kt(c),L={id:c,exec:I=>{const A=m.exec(I);if(A)return zt(A,v,s)},errors:[1,...h||[]].map(I=>n[I]),layouts:[0,...u||[]].map(a),leaf:f(o)};return L.errors.length=L.layouts.length=Math.max(L.errors.length,L.layouts.length),L});function f(c){const o=c<0;return o&&(c=~c),[o,n[c]]}function a(c){return c===void 0?c:[r.has(c),n[c]]}}const Yt=".svelte-kit/generated/root.svelte";function st(n){let e,t,s;var r=n[0][0];function f(c){return{props:{data:c[2],form:c[1]},$$inline:!0}}r&&(e=J(r,f(n)));const a={c:function(){e&&K(e.$$.fragment),t=B()},l:function(o){e&&ie(e.$$.fragment,o),t=B()},m:function(o,u){e&&M(e,o,u),G(o,t,u),s=!0},p:function(o,u){const h={};if(u&4&&(h.data=o[2]),u&2&&(h.form=o[1]),r!==(r=o[0][0])){if(e){Z();const m=e;C(m.$$.fragment,1,0,()=>{H(m,1)}),x()}r?(e=J(r,f(o)),K(e.$$.fragment),q(e.$$.fragment,1),M(e,t.parentNode,t)):e=null}else r&&e.$set(h)},i:function(o){s||(e&&q(e.$$.fragment,o),s=!0)},o:function(o){e&&C(e.$$.fragment,o),s=!1},d:function(o){o&&F(t),e&&H(e,o)}};return z("SvelteRegisterBlock",{block:a,id:st.name,type:"else",source:"(50:0) {:else}",ctx:n}),a}function it(n){let e,t,s;var r=n[0][0];function f(c){return{props:{data:c[2],$$slots:{default:[ut]},$$scope:{ctx:c}},$$inline:!0}}r&&(e=J(r,f(n)));const a={c:function(){e&&K(e.$$.fragment),t=B()},l:function(o){e&&ie(e.$$.fragment,o),t=B()},m:function(o,u){e&&M(e,o,u),G(o,t,u),s=!0},p:function(o,u){const h={};if(u&4&&(h.data=o[2]),u&1051&&(h.$$scope={dirty:u,ctx:o}),r!==(r=o[0][0])){if(e){Z();const m=e;C(m.$$.fragment,1,0,()=>{H(m,1)}),x()}r?(e=J(r,f(o)),K(e.$$.fragment),q(e.$$.fragment,1),M(e,t.parentNode,t)):e=null}else r&&e.$set(h)},i:function(o){s||(e&&q(e.$$.fragment,o),s=!0)},o:function(o){e&&C(e.$$.fragment,o),s=!1},d:function(o){o&&F(t),e&&H(e,o)}};return z("SvelteRegisterBlock",{block:a,id:it.name,type:"if",source:"(40:0) {#if components[1]}",ctx:n}),a}function ct(n){let e,t,s;var r=n[0][1];function f(c){return{props:{data:c[3],form:c[1]},$$inline:!0}}r&&(e=J(r,f(n)));const a={c:function(){e&&K(e.$$.fragment),t=B()},l:function(o){e&&ie(e.$$.fragment,o),t=B()},m:function(o,u){e&&M(e,o,u),G(o,t,u),s=!0},p:function(o,u){const h={};if(u&8&&(h.data=o[3]),u&2&&(h.form=o[1]),r!==(r=o[0][1])){if(e){Z();const m=e;C(m.$$.fragment,1,0,()=>{H(m,1)}),x()}r?(e=J(r,f(o)),K(e.$$.fragment),q(e.$$.fragment,1),M(e,t.parentNode,t)):e=null}else r&&e.$set(h)},i:function(o){s||(e&&q(e.$$.fragment,o),s=!0)},o:function(o){e&&C(e.$$.fragment,o),s=!1},d:function(o){o&&F(t),e&&H(e,o)}};return z("SvelteRegisterBlock",{block:a,id:ct.name,type:"else",source:"(46:2) {:else}",ctx:n}),a}function lt(n){let e,t,s;var r=n[0][1];function f(c){return{props:{data:c[3],$$slots:{default:[ft]},$$scope:{ctx:c}},$$inline:!0}}r&&(e=J(r,f(n)));const a={c:function(){e&&K(e.$$.fragment),t=B()},l:function(o){e&&ie(e.$$.fragment,o),t=B()},m:function(o,u){e&&M(e,o,u),G(o,t,u),s=!0},p:function(o,u){const h={};if(u&8&&(h.data=o[3]),u&1043&&(h.$$scope={dirty:u,ctx:o}),r!==(r=o[0][1])){if(e){Z();const m=e;C(m.$$.fragment,1,0,()=>{H(m,1)}),x()}r?(e=J(r,f(o)),K(e.$$.fragment),q(e.$$.fragment,1),M(e,t.parentNode,t)):e=null}else r&&e.$set(h)},i:function(o){s||(e&&q(e.$$.fragment,o),s=!0)},o:function(o){e&&C(e.$$.fragment,o),s=!1},d:function(o){o&&F(t),e&&H(e,o)}};return z("SvelteRegisterBlock",{block:a,id:lt.name,type:"if",source:"(42:2) {#if components[2]}",ctx:n}),a}function ft(n){let e,t,s;var r=n[0][2];function f(c){return{props:{data:c[4],form:c[1]},$$inline:!0}}r&&(e=J(r,f(n)));const a={c:function(){e&&K(e.$$.fragment),t=B()},l:function(o){e&&ie(e.$$.fragment,o),t=B()},m:function(o,u){e&&M(e,o,u),G(o,t,u),s=!0},p:function(o,u){const h={};if(u&16&&(h.data=o[4]),u&2&&(h.form=o[1]),r!==(r=o[0][2])){if(e){Z();const m=e;C(m.$$.fragment,1,0,()=>{H(m,1)}),x()}r?(e=J(r,f(o)),K(e.$$.fragment),q(e.$$.fragment,1),M(e,t.parentNode,t)):e=null}else r&&e.$set(h)},i:function(o){s||(e&&q(e.$$.fragment,o),s=!0)},o:function(o){e&&C(e.$$.fragment,o),s=!1},d:function(o){o&&F(t),e&&H(e,o)}};return z("SvelteRegisterBlock",{block:a,id:ft.name,type:"slot",source:"(43:3) <svelte:component this={components[1]} data={data_1}>",ctx:n}),a}function ut(n){let e,t,s,r;const f=[lt,ct],a=[];function c(u,h){return u[0][2]?0:1}e=c(n),t=a[e]=f[e](n);const o={c:function(){t.c(),s=B()},l:function(h){t.l(h),s=B()},m:function(h,m){a[e].m(h,m),G(h,s,m),r=!0},p:function(h,m){let v=e;e=c(h),e===v?a[e].p(h,m):(Z(),C(a[v],1,1,()=>{a[v]=null}),x(),t=a[e],t?t.p(h,m):(t=a[e]=f[e](h),t.c()),q(t,1),t.m(s.parentNode,s))},i:function(h){r||(q(t),r=!0)},o:function(h){C(t),r=!1},d:function(h){a[e].d(h),h&&F(s)}};return z("SvelteRegisterBlock",{block:o,id:ut.name,type:"slot",source:"(41:1) <svelte:component this={components[0]} data={data_0}>",ctx:n}),o}function Ie(n){let e,t=n[6]&&Ae(n);const s={c:function(){e=bt("div"),t&&t.c(),this.h()},l:function(f){e=vt(f,"DIV",{id:!0,"aria-live":!0,"aria-atomic":!0,style:!0});var a=kt(e);t&&t.l(a),a.forEach(F),this.h()},h:function(){Re(e,"id","svelte-announcer"),Re(e,"aria-live","assertive"),Re(e,"aria-atomic","true"),W(e,"position","absolute"),W(e,"left","0"),W(e,"top","0"),W(e,"clip","rect(0 0 0 0)"),W(e,"clip-path","inset(50%)"),W(e,"overflow","hidden"),W(e,"white-space","nowrap"),W(e,"width","1px"),W(e,"height","1px"),Et(e,Yt,54,1,1208)},m:function(f,a){G(f,e,a),t&&t.m(e,null)},p:function(f,a){f[6]?t?t.p(f,a):(t=Ae(f),t.c(),t.m(e,null)):t&&(t.d(1),t=null)},d:function(f){f&&F(e),t&&t.d()}};return z("SvelteRegisterBlock",{block:s,id:Ie.name,type:"if",source:"(54:0) {#if mounted}",ctx:n}),s}function Ae(n){let e;const t={c:function(){e=Rt(n[7])},l:function(r){e=St(r,n[7])},m:function(r,f){G(r,e,f)},p:function(r,f){f&128&&Pt(e,r[7])},d:function(r){r&&F(e)}};return z("SvelteRegisterBlock",{block:t,id:Ae.name,type:"if",source:"(56:2) {#if navigated}",ctx:n}),t}function Ne(n){let e,t,s,r,f;const a=[it,st],c=[];function o(m,v){return m[0][1]?0:1}e=o(n),t=c[e]=a[e](n);let u=n[5]&&Ie(n);const h={c:function(){t.c(),s=wt(),u&&u.c(),r=B()},l:function(v){t.l(v),s=yt(v),u&&u.l(v),r=B()},m:function(v,L){c[e].m(v,L),G(v,s,L),u&&u.m(v,L),G(v,r,L),f=!0},p:function(v,[L]){let I=e;e=o(v),e===I?c[e].p(v,L):(Z(),C(c[I],1,1,()=>{c[I]=null}),x(),t=c[e],t?t.p(v,L):(t=c[e]=a[e](v),t.c()),q(t,1),t.m(s.parentNode,s)),v[5]?u?u.p(v,L):(u=Ie(v),u.c(),u.m(r.parentNode,r)):u&&(u.d(1),u=null)},i:function(v){f||(q(t),f=!0)},o:function(v){C(t),f=!1},d:function(v){c[e].d(v),v&&F(s),u&&u.d(v),v&&F(r)}};return z("SvelteRegisterBlock",{block:h,id:Ne.name,type:"component",source:"",ctx:n}),h}function Xt(n,e,t){let{$$slots:s={},$$scope:r}=e;_t("Root",s,[]);let{stores:f}=e,{page:a}=e,{components:c}=e,{form:o}=e,{data_0:u=null}=e,{data_1:h=null}=e,{data_2:m=null}=e;Qe(f.page.notify);let v=!1,L=!1,I=null;ge(()=>{const y=f.page.subscribe(()=>{v&&(t(6,L=!0),t(7,I=document.title||"untitled page"))});return t(5,v=!0),y}),n.$$.on_mount.push(function(){f===void 0&&!("stores"in e||n.$$.bound[n.$$.props.stores])&&console.warn("<Root> was created without expected prop 'stores'"),a===void 0&&!("page"in e||n.$$.bound[n.$$.props.page])&&console.warn("<Root> was created without expected prop 'page'"),c===void 0&&!("components"in e||n.$$.bound[n.$$.props.components])&&console.warn("<Root> was created without expected prop 'components'"),o===void 0&&!("form"in e||n.$$.bound[n.$$.props.form])&&console.warn("<Root> was created without expected prop 'form'")});const A=["stores","page","components","form","data_0","data_1","data_2"];return Object.keys(e).forEach(y=>{!~A.indexOf(y)&&y.slice(0,2)!=="$$"&&y!=="slot"&&console.warn(`<Root> was created with unknown prop '${y}'`)}),n.$$set=y=>{"stores"in y&&t(8,f=y.stores),"page"in y&&t(9,a=y.page),"components"in y&&t(0,c=y.components),"form"in y&&t(1,o=y.form),"data_0"in y&&t(2,u=y.data_0),"data_1"in y&&t(3,h=y.data_1),"data_2"in y&&t(4,m=y.data_2)},n.$capture_state=()=>({setContext:gt,afterUpdate:Qe,onMount:ge,browser:jt,stores:f,page:a,components:c,form:o,data_0:u,data_1:h,data_2:m,mounted:v,navigated:L,title:I}),n.$inject_state=y=>{"stores"in y&&t(8,f=y.stores),"page"in y&&t(9,a=y.page),"components"in y&&t(0,c=y.components),"form"in y&&t(1,o=y.form),"data_0"in y&&t(2,u=y.data_0),"data_1"in y&&t(3,h=y.data_1),"data_2"in y&&t(4,m=y.data_2),"mounted"in y&&t(5,v=y.mounted),"navigated"in y&&t(6,L=y.navigated),"title"in y&&t(7,I=y.title)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),n.$$.update=()=>{n.$$.dirty&768&&f.page.set(a)},[c,o,u,h,m,v,L,I,f,a]}class Qt extends pt{constructor(e){super(e),ht(this,e,Xt,Ne,mt,{stores:8,page:9,components:0,form:1,data_0:2,data_1:3,data_2:4}),z("SvelteRegisterComponent",{component:this,tagName:"Root",options:e,id:Ne.name})}get stores(){throw new Error("<Root>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set stores(e){throw new Error("<Root>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get page(){throw new Error("<Root>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set page(e){throw new Error("<Root>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get components(){throw new Error("<Root>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set components(e){throw new Error("<Root>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get form(){throw new Error("<Root>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set form(e){throw new Error("<Root>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get data_0(){throw new Error("<Root>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set data_0(e){throw new Error("<Root>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get data_1(){throw new Error("<Root>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set data_1(e){throw new Error("<Root>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get data_2(){throw new Error("<Root>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set data_2(e){throw new Error("<Root>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Zt="modulepreload",xt=function(n,e){return new URL(n,e).href},nt={},te=function(e,t,s){if(!t||t.length===0)return e();const r=document.getElementsByTagName("link");return Promise.all(t.map(f=>{if(f=xt(f,s),f in nt)return;nt[f]=!0;const a=f.endsWith(".css"),c=a?'[rel="stylesheet"]':"";if(!!s)for(let h=r.length-1;h>=0;h--){const m=r[h];if(m.href===f&&(!a||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${f}"]${c}`))return;const u=document.createElement("link");if(u.rel=a?"stylesheet":Zt,a||(u.as="script",u.crossOrigin=""),u.href=f,document.head.appendChild(u),a)return new Promise((h,m)=>{u.addEventListener("load",h),u.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${f}`)))})})).then(()=>e())},en={},ye=[()=>te(()=>import("./chunks/0-f15f9b07.js"),["./chunks/0-f15f9b07.js","./chunks/_layout-ebb5050e.js","./components/pages/_layout.svelte-e8eaa49e.js","./chunks/singletons-f35c50ab.js","./chunks/storage-f164a8dd.js","./chunks/Toasts.svelte_svelte_type_style_lang-c3dd1b17.js","./assets/Toasts-e380eaa4.css","./chunks/stores-8c39eb80.js","./chunks/firestore-90890b0b.js","./chunks/navigation-9fbd55b3.js","./chunks/environment-60829b93.js","./assets/_layout-889a2c99.css"],import.meta.url),()=>te(()=>import("./chunks/1-f511a1e2.js"),["./chunks/1-f511a1e2.js","./components/pages/_error.svelte-ad88de30.js","./chunks/singletons-f35c50ab.js","./chunks/stores-8c39eb80.js","./chunks/FallbackImage-e0d06f3d.js","./chunks/BackButton-3ecd4acf.js","./chunks/navigation-ae7331bd.js","./chunks/firestore-90890b0b.js","./assets/BackButton-263d3bf8.css","./assets/FallbackImage-3eaed9ba.css","./assets/_error-7f4f51b3.css"],import.meta.url),()=>te(()=>import("./chunks/2-fb6034df.js"),["./chunks/2-fb6034df.js","./components/pages/play/_layout.svelte-0720f456.js","./chunks/singletons-f35c50ab.js","./chunks/storage-f164a8dd.js","./chunks/firestore-90890b0b.js","./chunks/RouteViewer-cd785452.js","./chunks/BackButton-3ecd4acf.js","./chunks/navigation-ae7331bd.js","./assets/BackButton-263d3bf8.css","./assets/RouteViewer-9779e376.css","./chunks/environment-60829b93.js","./chunks/navigation-9fbd55b3.js","./assets/_layout-c0a798a4.css"],import.meta.url),()=>te(()=>import("./chunks/3-63022612.js"),["./chunks/3-63022612.js","./components/pages/_page.svelte-55cee9f0.js","./chunks/singletons-f35c50ab.js","./chunks/OnboardingFlow-54f0b749.js","./chunks/firestore-90890b0b.js","./chunks/BackButton-3ecd4acf.js","./chunks/navigation-ae7331bd.js","./assets/BackButton-263d3bf8.css","./chunks/storage-f164a8dd.js","./chunks/stores-8c39eb80.js","./chunks/RouteViewer-cd785452.js","./assets/RouteViewer-9779e376.css","./chunks/Toasts.svelte_svelte_type_style_lang-c3dd1b17.js","./assets/Toasts-e380eaa4.css","./chunks/FallbackImage-e0d06f3d.js","./assets/FallbackImage-3eaed9ba.css","./assets/OnboardingFlow-2e5042aa.css"],import.meta.url),()=>te(()=>import("./chunks/4-9a52ed7e.js"),["./chunks/4-9a52ed7e.js","./components/pages/game/_id_/_page.svelte-a3a97a20.js","./chunks/singletons-f35c50ab.js","./chunks/OnboardingFlow-54f0b749.js","./chunks/firestore-90890b0b.js","./chunks/BackButton-3ecd4acf.js","./chunks/navigation-ae7331bd.js","./assets/BackButton-263d3bf8.css","./chunks/storage-f164a8dd.js","./chunks/stores-8c39eb80.js","./chunks/RouteViewer-cd785452.js","./assets/RouteViewer-9779e376.css","./chunks/Toasts.svelte_svelte_type_style_lang-c3dd1b17.js","./assets/Toasts-e380eaa4.css","./chunks/FallbackImage-e0d06f3d.js","./assets/FallbackImage-3eaed9ba.css","./assets/OnboardingFlow-2e5042aa.css"],import.meta.url),()=>te(()=>import("./chunks/5-0578116c.js"),["./chunks/5-0578116c.js","./components/pages/play/_page.svelte-b6c556f7.js","./chunks/singletons-f35c50ab.js","./chunks/firestore-90890b0b.js","./chunks/navigation-ae7331bd.js","./chunks/navigation-9fbd55b3.js","./chunks/environment-60829b93.js","./assets/_page-6cb3a2e3.css"],import.meta.url)],tn=[],nn={"/":[3],"/game/[id]":[-5],"/play":[-6,[2]]},on={handleError:({error:n})=>{console.error(n)}};class Ue{constructor(e,t){this.status=e,typeof t=="string"?this.body={message:t}:t?this.body=t:this.body={message:`Error: ${e}`}}toString(){return JSON.stringify(this.body)}}class ot{constructor(e,t){this.status=e,this.location=t}}async function rn(n){var e;for(const t in n)if(typeof((e=n[t])==null?void 0:e.then)=="function")return Object.fromEntries(await Promise.all(Object.entries(n).map(async([s,r])=>[s,await r])));return n}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");Object.getOwnPropertyNames(Object.prototype).sort().join("\0");const an=-1,sn=-2,cn=-3,ln=-4,fn=-5,un=-6;function dn(n){if(typeof n=="number")return s(n,!0);if(!Array.isArray(n)||n.length===0)throw new Error("Invalid input");const e=n,t=Array(e.length);function s(r,f=!1){if(r===an)return;if(r===cn)return NaN;if(r===ln)return 1/0;if(r===fn)return-1/0;if(r===un)return-0;if(f)throw new Error("Invalid input");if(r in t)return t[r];const a=e[r];if(!a||typeof a!="object")t[r]=a;else if(Array.isArray(a))if(typeof a[0]=="string")switch(a[0]){case"Date":t[r]=new Date(a[1]);break;case"Set":const o=new Set;t[r]=o;for(let m=1;m<a.length;m+=1)o.add(s(a[m]));break;case"Map":const u=new Map;t[r]=u;for(let m=1;m<a.length;m+=2)u.set(s(a[m]),s(a[m+1]));break;case"RegExp":t[r]=new RegExp(a[1],a[2]);break;case"Object":t[r]=Object(a[1]);break;case"BigInt":t[r]=BigInt(a[1]);break;case"null":const h=Object.create(null);t[r]=h;for(let m=1;m<a.length;m+=2)h[a[m]]=s(a[m+1]);break}else{const c=new Array(a.length);t[r]=c;for(let o=0;o<a.length;o+=1){const u=a[o];u!==sn&&(c[o]=s(u))}}else{const c={};t[r]=c;for(const o in a){const u=a[o];c[o]=s(u)}}return t[r]}return s(0)}function pn(n){const e=new Set(n);function t(s,r){if(!!s){for(const f in s)if(f[0]!=="_"&&!e.has(f)){const a=n.join(", ");throw new Error(`Invalid export '${f}'${r?` in ${r}`:""} (valid exports are ${a}, or anything with a '_' prefix)`)}}}return t}const hn=pn(["load","prerender","csr","ssr","trailingSlash"]),Le=Wt(ye,tn,nn,en),Te=ye[0],De=ye[1];Te();De();let se={};try{se=JSON.parse(sessionStorage[at])}catch{}function Oe(n){se[n]=_e()}function mn({target:n,base:e}){var We;const t=document.documentElement,s=[];let r=null;const f={before_navigate:[],after_navigate:[]};let a={branch:[],error:null,url:null},c=!1,o=!1,u=!0,h=!1,m=!1,v=!1,L=!1,I,A=(We=history.state)==null?void 0:We[Y];A||(A=Date.now(),history.replaceState({...history.state,[Y]:A},"",location.href));const y=se[A];y&&(history.scrollRestoration="manual",scrollTo(y.x,y.y));let X,qe,ce;async function Ve(){ce=ce||Promise.resolve(),await ce,ce=null;const i=new URL(location.href),l=ue(i,!0);r=null,await $e(l,i,[])}async function be(i,{noScroll:l=!1,replaceState:p=!1,keepFocus:d=!1,state:g={},invalidateAll:w=!1},_,E){return typeof i=="string"&&(i=new URL(i,Ze(document))),de({url:i,scroll:l?_e():null,keepfocus:d,redirect_chain:_,details:{state:g,replaceState:p},nav_token:E,accepted:()=>{w&&(L=!0)},blocked:()=>{},type:"goto"})}async function Fe(i){const l=ue(i,!1);if(!l)throw new Error(`Attempted to preload a URL that does not belong to this app: ${i}`);return r={id:l.id,promise:Ke(l).then(p=>(p.type==="loaded"&&p.state.error&&(r=null),p))},r.promise}async function le(...i){const p=Le.filter(d=>i.some(g=>d.exec(g))).map(d=>Promise.all([...d.layouts,d.leaf].map(g=>g==null?void 0:g[1]())));await Promise.all(p)}async function $e(i,l,p,d,g={},w){var E,k;qe=g;let _=i&&await Ke(i);if(_||(_=await ze(l,{id:null},await re(new Error(`Not found: ${l.pathname}`),{url:l,params:{},route:{id:null}}),404)),l=(i==null?void 0:i.url)||l,qe!==g)return!1;if(_.type==="redirect")if(p.length>10||p.includes(l.pathname))_=await fe({status:500,error:await re(new Error("Redirect loop"),{url:l,params:{},route:{id:null}}),url:l,route:{id:null}});else return be(new URL(_.location,l).href,{},[...p,l.pathname],g),!1;else((k=(E=_.props)==null?void 0:E.page)==null?void 0:k.status)>=400&&await Q.updated.check()&&await pe(l);if(s.length=0,L=!1,h=!0,d&&d.details){const{details:b}=d,P=b.replaceState?0:1;b.state[Y]=A+=P,history[b.replaceState?"replaceState":"pushState"](b.state,"",l)}if(r=null,o?(a=_.state,_.props.page&&(_.props.page.url=l),I.$set(_.props)):Ge(_),d){const{scroll:b,keepfocus:P}=d;if(P||je(),await he(),u){const O=l.hash&&document.getElementById(l.hash.slice(1));b?scrollTo(b.x,b.y):O?O.scrollIntoView():scrollTo(0,0)}}else await he();u=!0,_.props.page&&(X=_.props.page),w&&w(),h=!1}function Ge(i){var d;if(document.querySelector("vite-error-overlay"))return;a=i.state;const l=document.querySelector("style[data-sveltekit]");l&&l.remove(),X=i.props.page,I=new Qt({target:n,props:{...i.props,stores:Q},hydrate:!0});const p={from:null,to:{params:a.params,route:{id:((d=a.route)==null?void 0:d.id)??null},url:new URL(location.href)},willUnload:!1,type:"enter"};f.after_navigate.forEach(g=>g(p)),o=!0}async function ne({url:i,params:l,branch:p,status:d,error:g,route:w,form:_}){const E=p.filter(Boolean);let k="never";for(const j of p)(j==null?void 0:j.slash)!==void 0&&(k=j.slash);i.pathname=It(i.pathname,k),i.search=i.search;const b={type:"loaded",state:{url:i,params:l,branch:p,error:g,route:w},props:{components:E.map(j=>j.node.component)}};_!==void 0&&(b.props.form=_);let P={},O=!X;for(let j=0;j<E.length;j+=1){const R=E[j];P={...P,...R.data},(O||!a.branch.some(D=>D===R))&&(b.props[`data_${j}`]=P,O=O||Object.keys(R.data??{}).length>0)}return O||(O=Object.keys(X.data).length!==Object.keys(P).length),(!a.url||i.href!==a.url.href||a.error!==g||_!==void 0||O)&&(b.props.page={error:g,params:l,route:w,status:d,url:new URL(i),form:_??null,data:O?P:X.data}),b}async function ve({loader:i,parent:l,url:p,params:d,route:g,server_data_node:w}){var b,P,O;let _=null;const E={dependencies:new Set,params:new Set,parent:!1,route:!1,url:!1},k=await i();if(hn(k.universal),(b=k.universal)!=null&&b.load){let $=function(...R){for(const D of R){const{href:V}=new URL(D,p);E.dependencies.add(V)}};const j={route:{get id(){return E.route=!0,g.id}},params:new Proxy(d,{get:(R,D)=>(E.params.add(D),R[D])}),data:(w==null?void 0:w.data)??null,url:Tt(p,()=>{E.url=!0}),async fetch(R,D){let V;R instanceof Request?(V=R.url,D={body:R.method==="GET"||R.method==="HEAD"?void 0:await R.blob(),cache:R.cache,credentials:R.credentials,headers:R.headers,integrity:R.integrity,keepalive:R.keepalive,method:R.method,mode:R.mode,redirect:R.redirect,referrer:R.referrer,referrerPolicy:R.referrerPolicy,signal:R.signal,...D}):V=R;const S=new URL(V,p).href;return $(S),o?Gt(V,S,D):$t(V,D)},setHeaders:()=>{},depends:$,parent(){return E.parent=!0,l()}};try{if(Vt(),_=await k.universal.load.call(null,j)??null,_!=null&&Object.getPrototypeOf(_)!==Object.prototype)throw new Error(`a load function related to route '${g.id}' returned ${typeof _!="object"?`a ${typeof _}`:_ instanceof Response?"a Response object":Array.isArray(_)?"an array":"a non-plain object"}, but must return a plain object at the top level (i.e. \`return {...}\`)`)}finally{Ft()}_=_?await rn(_):null}return{node:k,loader:i,server:w,universal:(P=k.universal)!=null&&P.load?{type:"data",data:_,uses:E}:null,data:_??(w==null?void 0:w.data)??null,slash:((O=k.universal)==null?void 0:O.trailingSlash)??(w==null?void 0:w.slash)}}function Je(i,l,p,d,g){if(L)return!0;if(!d)return!1;if(d.parent&&i||d.route&&l||d.url&&p)return!0;for(const w of d.params)if(g[w]!==a.params[w])return!0;for(const w of d.dependencies)if(s.some(_=>_(new URL(w))))return!0;return!1}function ke(i,l){return(i==null?void 0:i.type)==="data"?{type:"data",data:i.data,uses:{dependencies:new Set(i.uses.dependencies??[]),params:new Set(i.uses.params??[]),parent:!!i.uses.parent,route:!!i.uses.route,url:!!i.uses.url},slash:i.slash}:(i==null?void 0:i.type)==="skip"?l??null:null}async function Ke({id:i,invalidating:l,url:p,params:d,route:g}){if((r==null?void 0:r.id)===i)return r.promise;const{errors:w,layouts:_,leaf:E}=g,k=[..._,E];w.forEach(S=>S==null?void 0:S().catch(()=>{})),k.forEach(S=>S==null?void 0:S[1]().catch(()=>{}));let b=null;const P=a.url?i!==a.url.pathname+a.url.search:!1,O=a.route?i!==a.route.id:!1,$=k.reduce((S,U,T)=>{var oe;const N=a.branch[T],ee=!!(U!=null&&U[0])&&((N==null?void 0:N.loader)!==U[1]||Je(S.some(Boolean),O,P,(oe=N.server)==null?void 0:oe.uses,d));return S.push(ee),S},[]);if($.some(Boolean)){try{b=await rt(p,$)}catch(S){return fe({status:500,error:await re(S,{url:p,params:d,route:{id:g.id}}),url:p,route:g})}if(b.type==="redirect")return b}const j=b==null?void 0:b.nodes;let R=!1;const D=k.map(async(S,U)=>{var oe;if(!S)return;const T=a.branch[U],N=j==null?void 0:j[U];if((!N||N.type==="skip")&&S[1]===(T==null?void 0:T.loader)&&!Je(R,O,P,(oe=T.universal)==null?void 0:oe.uses,d))return T;if(R=!0,(N==null?void 0:N.type)==="error")throw N;return ve({loader:S[1],url:p,params:d,route:g,parent:async()=>{var Xe;const Ye={};for(let Ee=0;Ee<U;Ee+=1)Object.assign(Ye,(Xe=await D[Ee])==null?void 0:Xe.data);return Ye},server_data_node:ke(N===void 0&&S[0]?{type:"skip"}:N??null,T==null?void 0:T.server)})});for(const S of D)S.catch(()=>{});const V=[];for(let S=0;S<k.length;S+=1)if(k[S])try{V.push(await D[S])}catch(U){if(U instanceof ot)return{type:"redirect",location:U.location};let T=500,N;j!=null&&j.includes(U)?(T=U.status??T,N=U.error):U instanceof Ue?(T=U.status,N=U.body):N=await re(U,{params:d,url:p,route:{id:g.id}});const ee=await Me(S,V,w);return ee?await ne({url:p,params:d,branch:V.slice(0,ee.idx).concat(ee.node),status:T,error:N,route:g}):await ze(p,{id:g.id},N,T)}else V.push(void 0);return await ne({url:p,params:d,branch:V,status:200,error:null,route:g,form:l?void 0:null})}async function Me(i,l,p){for(;i--;)if(p[i]){let d=i;for(;!l[d];)d-=1;try{return{idx:d+1,node:{node:await p[i](),loader:p[i],data:{},server:null,universal:null}}}catch{continue}}}async function fe({status:i,error:l,url:p,route:d}){const g={},w=await Te();let _=null;if(w.server)try{const b=await rt(p,[!0]);if(b.type!=="data"||b.nodes[0]&&b.nodes[0].type!=="data")throw 0;_=b.nodes[0]??null}catch{(p.origin!==location.origin||p.pathname!==location.pathname||c)&&await pe(p)}const E=await ve({loader:Te,url:p,params:g,route:d,parent:()=>Promise.resolve({}),server_data_node:ke(_)}),k={node:await De(),loader:De,universal:null,server:null,data:null};return await ne({url:p,params:g,branch:[E,k],status:i,error:l,route:null})}function ue(i,l){if(et(i,e))return;const p=At(i.pathname.slice(e.length)||"/");for(const d of Le){const g=d.exec(p);if(g)return{id:i.pathname+i.search,invalidating:l,route:d,params:Nt(g),url:i}}}function He({url:i,type:l,intent:p,delta:d}){var E,k;let g=!1;const w={from:{params:a.params,route:{id:((E=a.route)==null?void 0:E.id)??null},url:a.url},to:{params:(p==null?void 0:p.params)??null,route:{id:((k=p==null?void 0:p.route)==null?void 0:k.id)??null},url:i},willUnload:!p,type:l};d!==void 0&&(w.delta=d);const _={...w,cancel:()=>{g=!0}};return m||f.before_navigate.forEach(b=>b(_)),g?null:w}async function de({url:i,scroll:l,keepfocus:p,redirect_chain:d,details:g,type:w,delta:_,nav_token:E,accepted:k,blocked:b}){const P=ue(i,!1),O=He({url:i,type:w,delta:_,intent:P});if(!O){b();return}Oe(A),k(),m=!0,o&&Q.navigating.set(O),await $e(P,i,d,{scroll:l,keepfocus:p,details:g},E,()=>{m=!1,f.after_navigate.forEach($=>$(O)),Q.navigating.set(null)})}async function ze(i,l,p,d){return i.origin===location.origin&&i.pathname===location.pathname&&!c?await fe({status:d,error:p,url:i,route:l}):await pe(i)}function pe(i){return location.href=i.href,new Promise(()=>{})}function dt(){let i;t.addEventListener("mousemove",w=>{const _=w.target;clearTimeout(i),i=setTimeout(()=>{d(_,2)},20)});function l(w){d(w.composedPath()[0],1)}t.addEventListener("mousedown",l),t.addEventListener("touchstart",l,{passive:!0});const p=new IntersectionObserver(w=>{for(const _ of w)_.isIntersecting&&(le(new URL(_.target.href).pathname),p.unobserve(_.target))},{threshold:0});function d(w,_){const E=xe(w,t);if(!E)return;const{url:k,external:b}=Se(E,e);if(b)return;const P=me(E);P.reload||(_<=P.preload_data?Fe(k):_<=P.preload_code&&le(k.pathname))}function g(){p.disconnect();for(const w of t.querySelectorAll("a")){const{url:_,external:E}=Se(w,e);if(E)continue;const k=me(w);k.reload||(k.preload_code===tt.viewport&&p.observe(w),k.preload_code===tt.eager&&le(_.pathname))}}f.after_navigate.push(g),g()}return{after_navigate:i=>{ge(()=>(f.after_navigate.push(i),()=>{const l=f.after_navigate.indexOf(i);f.after_navigate.splice(l,1)}))},before_navigate:i=>{ge(()=>(f.before_navigate.push(i),()=>{const l=f.before_navigate.indexOf(i);f.before_navigate.splice(l,1)}))},disable_scroll_handling:()=>{if(o&&!h)throw new Error("Can only disable scroll handling during navigation");(h||!o)&&(u=!1)},goto:(i,l={})=>be(i,l,[]),invalidate:i=>{if(typeof i=="function")s.push(i);else{const{href:l}=new URL(i,location.href);s.push(p=>p.href===l)}return Ve()},invalidateAll:()=>(L=!0,Ve()),preload_data:async i=>{const l=new URL(i,Ze(document));await Fe(l)},preload_code:le,apply_action:async i=>{if(i.type==="error"){const l=new URL(location.href),{branch:p,route:d}=a;if(!d)return;const g=await Me(a.branch.length,p,d.errors);if(g){const w=await ne({url:l,params:a.params,branch:p.slice(0,g.idx).concat(g.node),status:i.status??500,error:i.error,route:d});a=w.state,I.$set(w.props),he().then(je)}}else if(i.type==="redirect")be(i.location,{invalidateAll:!0},[]);else{const l={form:i.data,page:{...X,form:i.data,status:i.status}};I.$set(l),i.type==="success"&&he().then(je)}},_start_router:()=>{var i;history.scrollRestoration="manual",addEventListener("beforeunload",l=>{var d;let p=!1;if(!m){const g={from:{params:a.params,route:{id:((d=a.route)==null?void 0:d.id)??null},url:a.url},to:null,willUnload:!0,type:"leave",cancel:()=>p=!0};f.before_navigate.forEach(w=>w(g))}p?(l.preventDefault(),l.returnValue=""):history.scrollRestoration="auto"}),addEventListener("visibilitychange",()=>{if(document.visibilityState==="hidden"){Oe(A);try{sessionStorage[at]=JSON.stringify(se)}catch{}}}),(i=navigator.connection)!=null&&i.saveData||dt(),t.addEventListener("click",l=>{if(l.button||l.which!==1||l.metaKey||l.ctrlKey||l.shiftKey||l.altKey||l.defaultPrevented)return;const p=xe(l.composedPath()[0],t);if(!p)return;const{url:d,external:g,has:w}=Se(p,e),_=me(p);if(!d||!(p instanceof SVGAElement)&&d.protocol!==location.protocol&&!(d.protocol==="https:"||d.protocol==="http:")||w.download)return;if(g||_.reload){He({url:d,type:"link"})||l.preventDefault(),m=!0;return}const[k,b]=d.href.split("#");if(b!==void 0&&k===location.href.split("#")[0]){v=!0,Oe(A),a.url=d,Q.page.set({...X,url:d}),Q.page.notify();return}de({url:d,scroll:_.noscroll?_e():null,keepfocus:!1,redirect_chain:[],details:{state:{},replaceState:d.href===location.href},accepted:()=>l.preventDefault(),blocked:()=>l.preventDefault(),type:"link"})}),t.addEventListener("submit",l=>{var k;if(l.defaultPrevented)return;const p=HTMLFormElement.prototype.cloneNode.call(l.target),d=l.submitter;if(((d==null?void 0:d.formMethod)||p.method)!=="get")return;const w=new URL(((k=l.submitter)==null?void 0:k.hasAttribute("formaction"))&&(d==null?void 0:d.formAction)||p.action);if(et(w,e))return;const{noscroll:_,reload:E}=me(l.target);E||(l.preventDefault(),l.stopPropagation(),w.search=new URLSearchParams(new FormData(l.target)).toString(),de({url:w,scroll:_?_e():null,keepfocus:!1,redirect_chain:[],details:{state:{},replaceState:!1},nav_token:{},accepted:()=>{},blocked:()=>{},type:"form"}))}),addEventListener("popstate",l=>{var p;if((p=l.state)!=null&&p[Y]){if(l.state[Y]===A)return;const d=l.state[Y]-A;de({url:new URL(location.href),scroll:se[l.state[Y]],keepfocus:!1,redirect_chain:[],details:null,accepted:()=>{A=l.state[Y]},blocked:()=>{history.go(-d)},type:"popstate",delta:d})}}),addEventListener("hashchange",()=>{v&&(v=!1,history.replaceState({...history.state,[Y]:++A},"",location.href))});for(const l of document.querySelectorAll("link"))l.rel==="icon"&&(l.href=l.href);addEventListener("pageshow",l=>{l.persisted&&Q.navigating.set(null)})},_hydrate:async({status:i=200,error:l,node_ids:p,params:d,route:g,data:w,form:_})=>{c=!0;const E=new URL(location.href);({params:d={},route:g={id:null}}=ue(E,!1)||{});let k;try{const b=p.map(async(P,O)=>{const $=w[O];return ve({loader:ye[P],url:E,params:d,route:g,parent:async()=>{const j={};for(let R=0;R<O;R+=1)Object.assign(j,(await b[R]).data);return j},server_data_node:ke($)})});k=await ne({url:E,params:d,branch:await Promise.all(b),status:i,error:l,form:_,route:Le.find(({id:P})=>P===g.id)??null})}catch(b){if(b instanceof ot){await pe(new URL(b.location,location.href));return}k=await fe({status:b instanceof Ue?b.status:500,error:await re(b,{url:E,params:d,route:g}),url:E,route:g})}Ge(k)}}}async function rt(n,e){var f;const t=new URL(n);if(t.pathname=Ct(n.pathname),n.searchParams.has("x-sveltekit-invalidated"))throw new Error('Cannot used reserved query parameter "x-sveltekit-invalidated"');t.searchParams.append("x-sveltekit-invalidated",e.map(a=>a?"1":"").join("_"));const s=await we(t.href),r=await s.json();if(!s.ok)throw new Error(r);return(f=r.nodes)==null||f.forEach(a=>{(a==null?void 0:a.type)==="data"&&(a.data=dn(a.data),a.uses={dependencies:new Set(a.uses.dependencies??[]),params:new Set(a.uses.params??[]),parent:!!a.uses.parent,route:!!a.uses.route,url:!!a.uses.url})}),r}function re(n,e){return n instanceof Ue?n.body:on.handleError({error:n,event:e})??{message:e.route.id!=null?"Internal Error":"Not Found"}}function je(){const n=document.querySelector("[autofocus]");if(n)n.focus();else{const e=document.body,t=e.getAttribute("tabindex");e.tabIndex=-1,e.focus({preventScroll:!0}),setTimeout(()=>{var s;(s=getSelection())==null||s.removeAllRanges()}),t!==null?e.setAttribute("tabindex",t):e.removeAttribute("tabindex")}}{const n=console.warn;console.warn=function(...t){t.length===1&&/<(Layout|Page)(_[\w$]+)?> was created (with unknown|without expected) prop '(data|form)'/.test(t[0])||n(...t)}}async function wn({env:n,hydrate:e,paths:t,target:s,version:r}){Lt(t),s===document.body&&console.warn(`Placing %sveltekit.body% directly inside <body> is not recommended, as your app may break for users who have certain browser extensions installed.

Consider wrapping it in an element:

<div style="display: contents">
  %sveltekit.body%
</div>`);const f=mn({target:s,base:t.base});Ot({client:f}),e?await f._hydrate(e):f.goto(location.href,{replaceState:!0}),f._start_router()}export{wn as start};
