import{S as K,i as O,s as T,k as b,q as w,a as N,l as $,m as E,r as V,h as p,c as q,n as d,p as A,b as k,L as v,u as j,f as H,g as W,d as X,t as L,ad as Y,v as Z,w as x,x as ee,y as te,R as le,af as re,H as M,Q as se,e as D}from"./singletons-ed5c0aef.js";import{I as ae}from"./BackButton-d1e8173f.js";import{g as oe}from"./firestore-bc135966.js";function Q(c,e,t){const l=c.slice();return l[1]=e[t],l}function z(c){let e,t,l,a;return t=new ae({props:{icon:c[1].type==="url"?"akar-icons:arrow-right":"bi:arrow-90deg-left"}}),{c(){e=b("div"),Z(t.$$.fragment),l=N(),this.h()},l(r){e=$(r,"DIV",{class:!0,style:!0,color:!0});var i=E(e);x(t.$$.fragment,i),l=q(i),i.forEach(p),this.h()},h(){d(e,"class","counter svelte-c10ejx"),A(e,"background-color",c[1].type==="url"?"var(--primary)":"var(--error)"),d(e,"color","var(--bg)")},m(r,i){k(r,e,i),ee(t,e,null),v(e,l),a=!0},p(r,i){const o={};i&1&&(o.icon=r[1].type==="url"?"akar-icons:arrow-right":"bi:arrow-90deg-left"),t.$set(o),(!a||i&1)&&A(e,"background-color",r[1].type==="url"?"var(--primary)":"var(--error)")},i(r){a||(H(t.$$.fragment,r),a=!0)},o(r){L(t.$$.fragment,r),a=!1},d(r){r&&p(e),te(t)}}}function ne(c){let e,t,l=c[0].name+"",a,r,i,o,s,n=c[0].score+"",m,B,R=c[0].score!==1?"s":"",S,y,I=c[0].progress.linkHistory,u=[];for(let f=0;f<I.length;f+=1)u[f]=z(Q(c,I,f));const U=f=>L(u[f],1,1,()=>{u[f]=null});return{c(){e=b("div"),t=b("p"),a=w(l),r=N(),i=b("div");for(let f=0;f<u.length;f+=1)u[f].c();o=N(),s=b("div"),m=w(n),B=w(" win"),S=w(R),this.h()},l(f){e=$(f,"DIV",{class:!0});var _=E(e);t=$(_,"P",{class:!0,style:!0});var g=E(t);a=V(g,l),g.forEach(p),r=q(_),i=$(_,"DIV",{class:!0});var h=E(i);for(let C=0;C<u.length;C+=1)u[C].l(h);h.forEach(p),o=q(_),s=$(_,"DIV",{class:!0});var P=E(s);m=V(P,n),B=V(P," win"),S=V(P,R),P.forEach(p),_.forEach(p),this.h()},h(){var f;d(t,"class","name svelte-c10ejx"),A(t,"color",(f=c[0].color)!=null?f:"var(--text)"),d(i,"class","progress svelte-c10ejx"),d(s,"class","score svelte-c10ejx"),d(e,"class","player svelte-c10ejx")},m(f,_){k(f,e,_),v(e,t),v(t,a),v(e,r),v(e,i);for(let g=0;g<u.length;g+=1)u[g].m(i,null);v(e,o),v(e,s),v(s,m),v(s,B),v(s,S),y=!0},p(f,[_]){var g;if((!y||_&1)&&l!==(l=f[0].name+"")&&j(a,l),(!y||_&1)&&A(t,"color",(g=f[0].color)!=null?g:"var(--text)"),_&1){I=f[0].progress.linkHistory;let h;for(h=0;h<I.length;h+=1){const P=Q(f,I,h);u[h]?(u[h].p(P,_),H(u[h],1)):(u[h]=z(P),u[h].c(),H(u[h],1),u[h].m(i,null))}for(W(),h=I.length;h<u.length;h+=1)U(h);X()}(!y||_&1)&&n!==(n=f[0].score+"")&&j(m,n),(!y||_&1)&&R!==(R=f[0].score!==1?"s":"")&&j(S,R)},i(f){if(!y){for(let _=0;_<I.length;_+=1)H(u[_]);y=!0}},o(f){u=u.filter(Boolean);for(let _=0;_<u.length;_+=1)L(u[_]);y=!1},d(f){f&&p(e),Y(u,f)}}}function ie(c,e,t){let{player:l}=e;return c.$$set=a=>{"player"in a&&t(0,l=a.player)},[l]}class ve extends K{constructor(e){super(),O(this,e,ie,ne,T,{player:0})}}function F(c,e,t){const l=c.slice();return l[2]=e[t],l[4]=t,l}function ce(c){let e,t=c[2]+"",l;return{c(){e=b("span"),l=w(t),this.h()},l(a){e=$(a,"SPAN",{class:!0});var r=E(e);l=V(r,t),r.forEach(p),this.h()},h(){d(e,"class","svelte-1x4ueya")},m(a,r){k(a,e,r),v(e,l)},p(a,r){r&1&&t!==(t=a[2]+"")&&j(l,t)},d(a){a&&p(e)}}}function fe(c){let e,t=c[2]+"",l,a;return{c(){e=b("a"),l=w(t),this.h()},l(r){e=$(r,"A",{target:!0,href:!0,class:!0});var i=E(e);l=V(i,t),i.forEach(p),this.h()},h(){d(e,"target","_blank"),d(e,"href",a="https://en.wikipedia.org/wiki/"+c[2]),d(e,"class","svelte-1x4ueya")},m(r,i){k(r,e,i),v(e,l)},p(r,i){i&1&&t!==(t=r[2]+"")&&j(l,t),i&1&&a!==(a="https://en.wikipedia.org/wiki/"+r[2])&&d(e,"href",a)},d(r){r&&p(e)}}}function G(c){let e;return{c(){e=w("\u2192")},l(t){e=V(t,"\u2192")},m(t,l){k(t,e,l)},d(t){t&&p(e)}}}function J(c,e){let t,l,a;function r(n,m){return n[1].state==="waiting"?fe:ce}let i=r(e),o=i(e),s=e[4]!==e[0].length-1&&G();return{key:c,first:null,c(){t=D(),o.c(),l=N(),s&&s.c(),a=D(),this.h()},l(n){t=D(),o.l(n),l=q(n),s&&s.l(n),a=D(),this.h()},h(){this.first=t},m(n,m){k(n,t,m),o.m(n,m),k(n,l,m),s&&s.m(n,m),k(n,a,m)},p(n,m){e=n,i===(i=r(e))&&o?o.p(e,m):(o.d(1),o=i(e),o&&(o.c(),o.m(l.parentNode,l))),e[4]!==e[0].length-1?s||(s=G(),s.c(),s.m(a.parentNode,a)):s&&(s.d(1),s=null)},d(n){n&&p(t),o.d(n),n&&p(l),s&&s.d(n),n&&p(a)}}}function ue(c){let e,t,l=[],a=new Map,r=c[0];const i=o=>o[2];for(let o=0;o<r.length;o+=1){let s=F(c,r,o),n=i(s);a.set(n,l[o]=J(n,s))}return{c(){e=b("p"),t=w(`Route:
	`);for(let o=0;o<l.length;o+=1)l[o].c();this.h()},l(o){e=$(o,"P",{class:!0});var s=E(e);t=V(s,`Route:
	`);for(let n=0;n<l.length;n+=1)l[n].l(s);s.forEach(p),this.h()},h(){d(e,"class","svelte-1x4ueya")},m(o,s){k(o,e,s),v(e,t);for(let n=0;n<l.length;n+=1)l[n].m(e,null)},p(o,[s]){s&3&&(r=o[0],l=le(l,s,i,1,o,r,a,e,re,J,null,F))},i:M,o:M,d(o){o&&p(e);for(let s=0;s<l.length;s+=1)l[s].d()}}}function _e(c,e,t){let l;se(c,oe,r=>t(1,l=r));let{route:a}=e;return c.$$set=r=>{"route"in r&&t(0,a=r.route)},[a,l]}class de extends K{constructor(e){super(),O(this,e,_e,ue,T,{route:0})}}export{ve as P,de as R};
