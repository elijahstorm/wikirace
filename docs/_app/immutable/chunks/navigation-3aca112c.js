import{u as o,l as y}from"./firestore-728c4f58.js";const p={linkHistory:[],linksProgressed:0,backNavs:0,isCriticallyClose:!1,timesCriticallyClose:0},c=(e,a,i)=>{var t;const r=e.players.find(l=>a.uid===l.uid);if(!r)return;o({type:"game",id:e.id},"players",r,!0);const s=(t=r.progress)!=null?t:p,n=s.linkHistory.findIndex(l=>l.url===i)===-1?"url":"back";s.linksProgressed++,s.linkHistory.push({url:i,type:n,index:s.linkHistory.length}),o({type:"game",id:e.id},"players",{...r,progress:s}),y.set(i)};export{p as d,c as n};
